name: Snyk push gate
on: push
jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Run Snyk to check for vulnerabilities
      - run: |
        npm install -g snyk
        snyk auth {{ token }}
        pip install -r ./eagleproject/requirements.txt
        snyk test --file=./eagleproject/requirements.txt