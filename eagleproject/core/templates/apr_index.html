{% extends 'base.html' %}
{% load blockchain %}
{% load humanize %}

{% block title %}APR{% endblock %}


{% block content %}

<h1>APY {{seven_day_apy|floatformat:2}}% <small>seven day average</small></h1>

<p>Daily APR for the last two weeks:</p>

<table class="table table-right">
    <thead>
        <tr>
            <th>Block</th>
            <th>APR</th>
            <th>Yield</th>
            <th>OUSD Supply</th>
            <th>Backing Supply</th>
            <th>Non-Rebasing</th>
            <th>Credits</th>
            <th>Ratio</th>
        </tr>
    </thead>
    {% for row in rows %}    
        <tr>
            <td>{% if row.block_number == latest_block_number %}Today So Far{% else %}{{row.block_number}}{% endif %}</td>
            <td><strong>{{row.apr|floatformat:2}}%</strong></td>
            <td>{{row.gain|floatformat:2}}</td>
            <td>{{row.reported_supply|floatformat:2}}</td>
            <td>{{row.computed_supply|floatformat:2}}</td>
            <td>{{row.non_rebasing_percentage|floatformat:1}}%</td>
            <td>{{row.credits|floatformat:2}}</td>
            <td>{{row.rebasing_credits_ratio|floatformat:8}}</td>
        </tr>
    {% endfor %}
</table>


{% endblock %}