from decimal import Decimal

from core.blockchain.addresses import (
    AAVE_LENDING_POOL_CORE_V1,
    AAVE_LENDING_POOL_V1,
    AAVE_PROTO_GOVERNANCE_V1,
    COMP,
    COMPENSATION_CLAIMS,
    COMPOUND_GOVERNOR_ALPHA,
    COMPOUND_TIMELOCK,
    CDAI,
    CUSDC,
    CUSDT,
    CURVE_ARAGON_51,
    CURVE_ARAGON_60,
    DAI,
    GOVERNOR,
    OGN_STAKING,
    OUSD,
    OUSD_USDT_UNISWAP,
    STRATAAVEDAI,
    STRATCOMP,
    STRAT3POOL,
    TIMELOCK,
    USDT,
    USDC,
    VAULT,
)

START_OF_EVERYTHING = 10884500
START_OF_OUSD_V2 = 11596940

CONTRACT_FOR_SYMBOL = {
    "DAI": DAI,
    "USDT": USDT,
    "USDC": USDC,
    "COMP": COMP,
}
SYMBOL_FOR_CONTRACT = {v: k for (k, v) in CONTRACT_FOR_SYMBOL.items()}

DECIMALS_FOR_SYMBOL = {
    "AAVE": 18,
    "COMP": 18,
    "CRV": 18,
    "DAI": 18,
    "OUSD": 18,
    "USDT": 6,
    "USDC": 6,
    "veCRV": 18,
}

THREEPOOLINDEX_FOR_ASSET = {
    DAI: 0,
    USDC: 1,
    USDT: 2,
}

COMPOUND_FOR_SYMBOL = {
    "DAI": CDAI,
    "USDT": CUSDT,
    "USDC": CUSDC,
}
SYMBOL_FOR_COMPOUND = {v: k for (k, v) in COMPOUND_FOR_SYMBOL.items()}

CTOKEN_DECIMALS = 8

OUSD_CONTRACTS = [
    GOVERNOR,
    OUSD,
    VAULT,
    STRATCOMP,
    STRATAAVEDAI,
    STRAT3POOL,
    TIMELOCK,
]
LOG_CONTRACTS = OUSD_CONTRACTS + [
    OUSD_USDT_UNISWAP,
    OGN_STAKING,
    COMPOUND_GOVERNOR_ALPHA,
    COMPOUND_TIMELOCK,
    COMPENSATION_CLAIMS,
    # TODO
    # AAVE_LENDING_POOL_CORE_V1,
    # AAVE_LENDING_POOL_V1,
    AAVE_PROTO_GOVERNANCE_V1,
    CURVE_ARAGON_51,
    CURVE_ARAGON_60,
]
ETHERSCAN_CONTRACTS = [GOVERNOR, OUSD, VAULT, TIMELOCK]

ASSET_TICKERS = ["DAI", "USDC", "USDT"]
AAVE_ASSETS = ["DAI"]

BLOCKS_PER_MINUTE = 4
BLOCKS_PER_HOUR = BLOCKS_PER_MINUTE * 60
BLOCKS_PER_DAY = BLOCKS_PER_HOUR * 24
BLOCKS_PER_YEAR = BLOCKS_PER_DAY * 365

E_6 = Decimal(1e6)
E_8 = Decimal(1e8)
E_18 = Decimal(1e18)
E_27 = Decimal(1e27)

FALSE_256BIT = "0x0000000000000000000000000000000000000000000000000000000000000000"
TRUE_256BIT = "0x0000000000000000000000000000000000000000000000000000000000000001"
